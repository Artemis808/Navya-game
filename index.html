<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />

  <!-- Disable zooming & double-tap zoom -->
  <meta name="viewport"
        content="width=device-width,
                 initial-scale=1.0,
                 maximum-scale=1.0,
                 user-scalable=no"/>

  <title>Runner Game</title>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      touch-action: manipulation;
      overflow: hidden;
      background: #111;
      font-family: Arial, sans-serif;
    }

    canvas {
      display: block;
      margin: 0 auto;
      background: #eee;
      touch-action: none;
    }

    /* Difficulty menu */
    #difficultyMenu {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.88);
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 20px;
      font-size: 28px;
      z-index: 9999;
      text-align: center;
    }
    .diffBtn {
      padding: 14px 30px;
      font-size: 22px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background: #3498db;
      color: white;
    }

    /* HUD */
    #hud {
      position: fixed;
      top: 10px; left: 10px;
      z-index: 10000;
      color: #fff;
      text-shadow: 0 0 4px black;
      font-size: 18px;
      user-select: none;
    }

    /* Game Over */
    #gameover-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.7);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 20000;
      text-align: center;
      color: white;
    }
    #gameover-box {
      background: #111;
      padding: 20px;
      border-radius: 10px;
      min-width: 260px;
    }
    #restartBtn {
      margin-top: 15px;
      background: #2ecc71;
      padding: 12px 20px;
      border: none;
      font-size: 20px;
      border-radius: 8px;
      color: white;
      cursor: pointer;
    }

    /* Mobile buttons */
    #controls {
      position: fixed;
      bottom: 15px;
      left: 0; right: 0;
      display: flex;
      justify-content: space-between;
      padding: 0 20px;
      z-index: 15000;
      pointer-events: none;
    }
    #controls button {
      pointer-events: auto;
      background: rgba(0,0,0,0.65);
      padding: 10px 16px;
      border-radius: 10px;
      color: white;
      border: none;
      font-size: 20px;
    }

    /* Landscape warning */
    #rotate-warning {
      position: fixed;
      inset: 0;
      background: black;
      color: white;
      display: none;
      justify-content: center;
      align-items: center;
      padding: 20px;
      font-size: 24px;
      z-index: 30000;
      text-align: center;
    }

    /* Mute button */
    #muteBtn {
      position: fixed;
      bottom: 10px; right: 10px;
      padding: 8px 14px;
      font-size: 16px;
      background: rgba(255,255,255,0.7);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      z-index: 15000;
    }
  </style>
</head>

<body>

  <!-- Difficulty Screen -->
  <div id="difficultyMenu">
    <div style="font-size:32px; margin-bottom:10px;">Select Difficulty</div>
    <button class="diffBtn" onclick="startGame('easy')">Easy</button>
    <button class="diffBtn" onclick="startGame('medium')">Medium</button>
    <button class="diffBtn" onclick="startGame('hard')">Hard</button>
  </div>

  <!-- HUD -->
  <div id="hud">
    <div id="scoreDisplay">Score: 0</div>
    <div id="distanceDisplay">Distance: 0.0 m</div>
    <div id="highDisplay">High: 0.0</div>
  </div>

  <!-- Game Canvas -->
  <canvas id="gameCanvas" width="900" height="400"></canvas>

  <!-- Game Over -->
  <div id="gameover-overlay">
    <div id="gameover-box">
      <div style="font-size:30px; margin-bottom:10px;">GAME OVER</div>
      <div id="finalDistance">Distance: 0.0 m</div>
      <div id="finalHigh">High Score: 0.0 m</div>
      <button id="restartBtn">Restart</button>
    </div>
  </div>

  <!-- Mobile Controls -->
  <div id="controls">
    <button id="powerBtn">Power</button>
    <button id="jumpBtn">Jump</button>
  </div>

  <!-- Landscape Warning -->
  <div id="rotate-warning">Please rotate your device to landscape.</div>

  <!-- Mute Button (SPACE SAFE) -->
  <button id="muteBtn" tabindex="-1">Mute</button>

  <script src="game.js"></script>

  <!-- Orientation script -->
  <script>
    function checkOrientation() {
      if (window.innerHeight > window.innerWidth) {
        document.getElementById("rotate-warning").style.display = "flex";
      } else {
        document.getElementById("rotate-warning").style.display = "none";
      }
    }
    addEventListener("load", checkOrientation);
    addEventListener("resize", checkOrientation);
    addEventListener("orientationchange", checkOrientation);
  </script>

</body>
</html>
